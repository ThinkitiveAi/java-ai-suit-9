[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m----------------------< [0;36mcom.example:session-demo[0;1m >----------------------[m
[[1;34mINFO[m] [1mBuilding session-demo 0.0.1-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m>>> [0;32mspring-boot-maven-plugin:3.5.3:run[m [1m(default-cli)[0;1m > [0;1mtest-compile[m @ [36msession-demo[0;1m >>>[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:resources[m [1m(default-resources)[m @ [36msession-demo[0;1m ---[m
[[1;34mINFO[m] Copying 1 resource from src/main/resources to target/classes
[[1;34mINFO[m] Copying 0 resource from src/main/resources to target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.14.0:compile[m [1m(default-compile)[m @ [36msession-demo[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:testResources[m [1m(default-testResources)[m @ [36msession-demo[0;1m ---[m
[[1;34mINFO[m] Copying 1 resource from src/test/resources to target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.14.0:testCompile[m [1m(default-testCompile)[m @ [36msession-demo[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m<<< [0;32mspring-boot-maven-plugin:3.5.3:run[m [1m(default-cli)[0;1m < [0;1mtest-compile[m @ [36msession-demo[0;1m <<<[m
[[1;34mINFO[m] 
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:3.5.3:run[m [1m(default-cli)[m @ [36msession-demo[0;1m ---[m
[[1;34mINFO[m] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.3)

2025-07-24T19:24:35.109+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : Starting SessionDemoApplication using Java 17.0.13 with PID 662669 (/home/lnv-244/CodeBase/session/java-ai-suit-9/target/classes started by lnv-244 in /home/lnv-244/CodeBase/session/java-ai-suit-9)
2025-07-24T19:24:35.112+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : No active profile set, falling back to 1 default profile: "default"
2025-07-24T19:24:35.140+05:30  INFO 662669 --- [session-demo] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-24T19:24:35.141+05:30  INFO 662669 --- [session-demo] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-24T19:24:35.803+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-24T19:24:35.804+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-24T19:24:35.914+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 101 ms. Found 6 JPA repository interfaces.
2025-07-24T19:24:35.923+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-24T19:24:35.925+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-24T19:24:35.934+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.LoginAttemptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.934+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.PatientAuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.935+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.PatientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.935+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.ProviderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.935+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.935+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:24:35.935+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-24T19:24:36.356+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-07-24T19:24:36.366+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-24T19:24:36.366+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-24T19:24:36.390+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-24T19:24:36.391+05:30  INFO 662669 --- [session-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1250 ms
2025-07-24T19:24:36.504+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-24T19:24:36.541+05:30  INFO 662669 --- [session-demo] [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-24T19:24:36.563+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-24T19:24:36.701+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-24T19:24:36.718+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-24T19:24:36.813+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63b6a29a
2025-07-24T19:24:36.814+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-24T19:24:36.836+05:30  WARN 662669 --- [session-demo] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-24T19:24:36.851+05:30  INFO 662669 --- [session-demo] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.13
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-24T19:24:37.630+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-24T19:24:37.639+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
Hibernate: 
    set client_min_messages = WARNING
2025-07-24T19:24:37.642+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
Hibernate: 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
2025-07-24T19:24:37.643+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
Hibernate: 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
2025-07-24T19:24:37.643+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
Hibernate: 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
2025-07-24T19:24:37.644+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
Hibernate: 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
2025-07-24T19:24:37.644+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists login_attempts cascade
Hibernate: 
    drop table if exists login_attempts cascade
2025-07-24T19:24:37.645+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists patient_audit_logs cascade
Hibernate: 
    drop table if exists patient_audit_logs cascade
2025-07-24T19:24:37.645+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists patients cascade
Hibernate: 
    drop table if exists patients cascade
2025-07-24T19:24:37.645+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists providers cascade
Hibernate: 
    drop table if exists providers cascade
2025-07-24T19:24:37.646+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists refresh_tokens cascade
Hibernate: 
    drop table if exists refresh_tokens cascade
2025-07-24T19:24:37.646+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists verification_tokens cascade
Hibernate: 
    drop table if exists verification_tokens cascade
2025-07-24T19:24:37.650+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table login_attempts (
        created_at timestamp(6) not null,
        provider_id bigint,
        id UUID not null,
        attempt_type varchar(255) not null check (attempt_type in ('SUCCESS','FAILED','LOCKED','RATE_LIMITED','ACCOUNT_DISABLED','EMAIL_NOT_VERIFIED')),
        failure_reason varchar(255),
        identifier varchar(255) not null,
        ip_address varchar(255) not null,
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table login_attempts (
        created_at timestamp(6) not null,
        provider_id bigint,
        id UUID not null,
        attempt_type varchar(255) not null check (attempt_type in ('SUCCESS','FAILED','LOCKED','RATE_LIMITED','ACCOUNT_DISABLED','EMAIL_NOT_VERIFIED')),
        failure_reason varchar(255),
        identifier varchar(255) not null,
        ip_address varchar(255) not null,
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:24:37.663+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table patient_audit_logs (
        response_status integer,
        sensitive_data_accessed boolean not null,
        success boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint,
        processing_time_ms bigint,
        uuid UUID not null unique,
        action_type varchar(255) not null check (action_type in ('PATIENT_REGISTRATION','PATIENT_LOGIN','PATIENT_LOGOUT','PATIENT_LOGIN_FAILED','PASSWORD_CHANGE','PASSWORD_RESET_REQUEST','PASSWORD_RESET_COMPLETE','ACCOUNT_ACTIVATION','ACCOUNT_DEACTIVATION','ACCOUNT_LOCKOUT','EMAIL_VERIFICATION_SENT','EMAIL_VERIFICATION_COMPLETED','PHONE_VERIFICATION_SENT','PHONE_VERIFICATION_COMPLETED','VERIFICATION_TOKEN_EXPIRED','PATIENT_DATA_VIEW','PATIENT_DATA_UPDATE','PATIENT_DATA_EXPORT','PATIENT_DATA_DELETE','MEDICAL_HISTORY_VIEW','MEDICAL_HISTORY_UPDATE','INSURANCE_INFO_VIEW','INSURANCE_INFO_UPDATE','PRIVACY_CONSENT_GIVEN','PRIVACY_CONSENT_WITHDRAWN','TERMS_ACCEPTED','MARKETING_CONSENT_CHANGED','EMAIL_SENT','SMS_SENT','COMMUNICATION_PREFERENCES_UPDATED','SUSPICIOUS_ACTIVITY_DETECTED','RATE_LIMIT_EXCEEDED','UNAUTHORIZED_ACCESS_ATTEMPT','DATA_ENCRYPTION_PERFORMED','DATA_DECRYPTION_PERFORMED','SYSTEM_BACKUP','SYSTEM_RESTORE','DATABASE_MIGRATION','AUDIT_LOG_CLEANUP')),
        actor_id varchar(255),
        actor_type varchar(255),
        failure_reason varchar(255),
        ip_address varchar(255),
        request_method varchar(255),
        request_uri varchar(255),
        session_id varchar(255),
        user_agent TEXT,
        action_details_encrypted TEXT,
        primary key (id)
    )
Hibernate: 
    create table patient_audit_logs (
        response_status integer,
        sensitive_data_accessed boolean not null,
        success boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint,
        processing_time_ms bigint,
        uuid UUID not null unique,
        action_type varchar(255) not null check (action_type in ('PATIENT_REGISTRATION','PATIENT_LOGIN','PATIENT_LOGOUT','PATIENT_LOGIN_FAILED','PASSWORD_CHANGE','PASSWORD_RESET_REQUEST','PASSWORD_RESET_COMPLETE','ACCOUNT_ACTIVATION','ACCOUNT_DEACTIVATION','ACCOUNT_LOCKOUT','EMAIL_VERIFICATION_SENT','EMAIL_VERIFICATION_COMPLETED','PHONE_VERIFICATION_SENT','PHONE_VERIFICATION_COMPLETED','VERIFICATION_TOKEN_EXPIRED','PATIENT_DATA_VIEW','PATIENT_DATA_UPDATE','PATIENT_DATA_EXPORT','PATIENT_DATA_DELETE','MEDICAL_HISTORY_VIEW','MEDICAL_HISTORY_UPDATE','INSURANCE_INFO_VIEW','INSURANCE_INFO_UPDATE','PRIVACY_CONSENT_GIVEN','PRIVACY_CONSENT_WITHDRAWN','TERMS_ACCEPTED','MARKETING_CONSENT_CHANGED','EMAIL_SENT','SMS_SENT','COMMUNICATION_PREFERENCES_UPDATED','SUSPICIOUS_ACTIVITY_DETECTED','RATE_LIMIT_EXCEEDED','UNAUTHORIZED_ACCESS_ATTEMPT','DATA_ENCRYPTION_PERFORMED','DATA_DECRYPTION_PERFORMED','SYSTEM_BACKUP','SYSTEM_RESTORE','DATABASE_MIGRATION','AUDIT_LOG_CLEANUP')),
        actor_id varchar(255),
        actor_type varchar(255),
        failure_reason varchar(255),
        ip_address varchar(255),
        request_method varchar(255),
        request_uri varchar(255),
        session_id varchar(255),
        user_agent TEXT,
        action_details_encrypted TEXT,
        primary key (id)
    )
2025-07-24T19:24:37.675+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table patients (
        appointment_reminders boolean not null,
        date_of_birth date not null,
        email_notifications boolean not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        insurance_effective_date date,
        insurance_expiry_date date,
        is_active boolean not null,
        login_count integer not null,
        marketing_emails boolean not null,
        phone_verified boolean not null,
        privacy_consent boolean not null,
        sms_notifications boolean not null,
        terms_accepted boolean not null,
        consent_date timestamp(6),
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        preferred_language varchar(10),
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        address_city varchar(255),
        address_country varchar(255),
        address_state varchar(255),
        address_street varchar(255),
        address_zip varchar(255),
        email varchar(255) not null unique,
        emergency_contact_email varchar(255),
        emergency_contact_name varchar(255),
        emergency_contact_phone varchar(255),
        emergency_contact_relationship varchar(255),
        gender varchar(255) not null check (gender in ('MALE','FEMALE','OTHER','PREFER_NOT_TO_SAY')),
        insurance_group_number varchar(255),
        insurance_member_id_encrypted varchar(255),
        insurance_policy_number_encrypted varchar(255),
        insurance_provider varchar(255),
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        allergies_encrypted TEXT,
        current_medications_encrypted TEXT,
        medical_history_encrypted TEXT,
        primary key (id)
    )
Hibernate: 
    create table patients (
        appointment_reminders boolean not null,
        date_of_birth date not null,
        email_notifications boolean not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        insurance_effective_date date,
        insurance_expiry_date date,
        is_active boolean not null,
        login_count integer not null,
        marketing_emails boolean not null,
        phone_verified boolean not null,
        privacy_consent boolean not null,
        sms_notifications boolean not null,
        terms_accepted boolean not null,
        consent_date timestamp(6),
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        preferred_language varchar(10),
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        address_city varchar(255),
        address_country varchar(255),
        address_state varchar(255),
        address_street varchar(255),
        address_zip varchar(255),
        email varchar(255) not null unique,
        emergency_contact_email varchar(255),
        emergency_contact_name varchar(255),
        emergency_contact_phone varchar(255),
        emergency_contact_relationship varchar(255),
        gender varchar(255) not null check (gender in ('MALE','FEMALE','OTHER','PREFER_NOT_TO_SAY')),
        insurance_group_number varchar(255),
        insurance_member_id_encrypted varchar(255),
        insurance_policy_number_encrypted varchar(255),
        insurance_provider varchar(255),
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        allergies_encrypted TEXT,
        current_medications_encrypted TEXT,
        medical_history_encrypted TEXT,
        primary key (id)
    )
2025-07-24T19:24:37.692+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table providers (
        concurrent_sessions integer not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        is_active boolean not null,
        login_count integer not null,
        years_of_experience integer not null check ((years_of_experience<=50) and (years_of_experience>=0)),
        created_at timestamp(6) not null,
        email_verification_token_expiry timestamp(6),
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        clinic_city varchar(255),
        clinic_state varchar(255),
        clinic_street varchar(255),
        clinic_zip varchar(255),
        email varchar(255) not null unique,
        email_verification_token varchar(255),
        license_document_url varchar(255),
        license_number varchar(255) not null unique,
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        specialization varchar(255) not null check (specialization in ('ALLERGY_IMMUNOLOGY','ANESTHESIOLOGY','CARDIOLOGY','DERMATOLOGY','EMERGENCY_MEDICINE','FAMILY_MEDICINE','GASTROENTEROLOGY','GENERAL_SURGERY','HEMATOLOGY','INFECTIOUS_DISEASE','INTERNAL_MEDICINE','NEPHROLOGY','NEUROLOGY','NEUROSURGERY','OBSTETRICS_GYNECOLOGY','ONCOLOGY','OPHTHALMOLOGY','ORTHOPEDIC_SURGERY','OTOLARYNGOLOGY','PATHOLOGY','PEDIATRICS','PHYSICAL_MEDICINE','PLASTIC_SURGERY','PSYCHIATRY','PULMONOLOGY','RADIOLOGY','RHEUMATOLOGY','UROLOGY','NURSE_PRACTITIONER','PHYSICIAN_ASSISTANT','OTHER')),
        verification_status varchar(255) not null check (verification_status in ('PENDING','VERIFIED','REJECTED')),
        primary key (id)
    )
Hibernate: 
    create table providers (
        concurrent_sessions integer not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        is_active boolean not null,
        login_count integer not null,
        years_of_experience integer not null check ((years_of_experience<=50) and (years_of_experience>=0)),
        created_at timestamp(6) not null,
        email_verification_token_expiry timestamp(6),
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        clinic_city varchar(255),
        clinic_state varchar(255),
        clinic_street varchar(255),
        clinic_zip varchar(255),
        email varchar(255) not null unique,
        email_verification_token varchar(255),
        license_document_url varchar(255),
        license_number varchar(255) not null unique,
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        specialization varchar(255) not null check (specialization in ('ALLERGY_IMMUNOLOGY','ANESTHESIOLOGY','CARDIOLOGY','DERMATOLOGY','EMERGENCY_MEDICINE','FAMILY_MEDICINE','GASTROENTEROLOGY','GENERAL_SURGERY','HEMATOLOGY','INFECTIOUS_DISEASE','INTERNAL_MEDICINE','NEPHROLOGY','NEUROLOGY','NEUROSURGERY','OBSTETRICS_GYNECOLOGY','ONCOLOGY','OPHTHALMOLOGY','ORTHOPEDIC_SURGERY','OTOLARYNGOLOGY','PATHOLOGY','PEDIATRICS','PHYSICAL_MEDICINE','PLASTIC_SURGERY','PSYCHIATRY','PULMONOLOGY','RADIOLOGY','RHEUMATOLOGY','UROLOGY','NURSE_PRACTITIONER','PHYSICIAN_ASSISTANT','OTHER')),
        verification_status varchar(255) not null check (verification_status in ('PENDING','VERIFIED','REJECTED')),
        primary key (id)
    )
2025-07-24T19:24:37.713+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table refresh_tokens (
        is_revoked boolean not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        last_used_at timestamp(6) not null,
        provider_id bigint not null,
        id UUID not null,
        device_info varchar(255),
        ip_address varchar(255),
        token_hash varchar(255) not null unique,
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table refresh_tokens (
        is_revoked boolean not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        last_used_at timestamp(6) not null,
        provider_id bigint not null,
        id UUID not null,
        device_info varchar(255),
        ip_address varchar(255),
        token_hash varchar(255) not null unique,
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:24:37.724+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table verification_tokens (
        attempts integer not null check (attempts>=0),
        is_used boolean not null,
        max_attempts integer not null check ((max_attempts>=1) and (max_attempts<=10)),
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint not null,
        used_at timestamp(6),
        uuid UUID not null unique,
        ip_address varchar(255),
        token_hash varchar(255) not null,
        token_type varchar(255) not null check (token_type in ('EMAIL_VERIFICATION','PHONE_VERIFICATION','PASSWORD_RESET','ACCOUNT_ACTIVATION')),
        token_value_encrypted varchar(255),
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table verification_tokens (
        attempts integer not null check (attempts>=0),
        is_used boolean not null,
        max_attempts integer not null check ((max_attempts>=1) and (max_attempts<=10)),
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint not null,
        used_at timestamp(6),
        uuid UUID not null unique,
        ip_address varchar(255),
        token_hash varchar(255) not null,
        token_type varchar(255) not null check (token_type in ('EMAIL_VERIFICATION','PHONE_VERIFICATION','PASSWORD_RESET','ACCOUNT_ACTIVATION')),
        token_value_encrypted varchar(255),
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:24:37.737+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_provider 
       on login_attempts (provider_id)
Hibernate: 
    create index idx_login_attempt_provider 
       on login_attempts (provider_id)
2025-07-24T19:24:37.742+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_identifier 
       on login_attempts (identifier)
Hibernate: 
    create index idx_login_attempt_identifier 
       on login_attempts (identifier)
2025-07-24T19:24:37.746+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_ip 
       on login_attempts (ip_address)
Hibernate: 
    create index idx_login_attempt_ip 
       on login_attempts (ip_address)
2025-07-24T19:24:37.751+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_created 
       on login_attempts (created_at)
Hibernate: 
    create index idx_login_attempt_created 
       on login_attempts (created_at)
2025-07-24T19:24:37.755+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_type 
       on login_attempts (attempt_type)
Hibernate: 
    create index idx_login_attempt_type 
       on login_attempts (attempt_type)
2025-07-24T19:24:37.759+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_patient 
       on patient_audit_logs (patient_id)
Hibernate: 
    create index idx_audit_patient 
       on patient_audit_logs (patient_id)
2025-07-24T19:24:37.764+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_action 
       on patient_audit_logs (action_type)
Hibernate: 
    create index idx_audit_action 
       on patient_audit_logs (action_type)
2025-07-24T19:24:37.768+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_created 
       on patient_audit_logs (created_at)
Hibernate: 
    create index idx_audit_created 
       on patient_audit_logs (created_at)
2025-07-24T19:24:37.772+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_sensitive 
       on patient_audit_logs (sensitive_data_accessed)
Hibernate: 
    create index idx_audit_sensitive 
       on patient_audit_logs (sensitive_data_accessed)
2025-07-24T19:24:37.779+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_success 
       on patient_audit_logs (success)
Hibernate: 
    create index idx_audit_success 
       on patient_audit_logs (success)
2025-07-24T19:24:37.782+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_ip 
       on patient_audit_logs (ip_address)
Hibernate: 
    create index idx_audit_ip 
       on patient_audit_logs (ip_address)
2025-07-24T19:24:37.786+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_email 
       on patients (email)
Hibernate: 
    create index idx_patient_email 
       on patients (email)
2025-07-24T19:24:37.793+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_phone 
       on patients (phone_number)
Hibernate: 
    create index idx_patient_phone 
       on patients (phone_number)
2025-07-24T19:24:37.797+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_active 
       on patients (is_active)
Hibernate: 
    create index idx_patient_active 
       on patients (is_active)
2025-07-24T19:24:37.801+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_verified 
       on patients (email_verified, phone_verified)
Hibernate: 
    create index idx_patient_verified 
       on patients (email_verified, phone_verified)
2025-07-24T19:24:37.807+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_created 
       on patients (created_at)
Hibernate: 
    create index idx_patient_created 
       on patients (created_at)
2025-07-24T19:24:37.812+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_dob 
       on patients (date_of_birth)
Hibernate: 
    create index idx_patient_dob 
       on patients (date_of_birth)
2025-07-24T19:24:37.816+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_email 
       on providers (email)
Hibernate: 
    create index idx_provider_email 
       on providers (email)
2025-07-24T19:24:37.822+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_phone 
       on providers (phone_number)
Hibernate: 
    create index idx_provider_phone 
       on providers (phone_number)
2025-07-24T19:24:37.827+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_license 
       on providers (license_number)
Hibernate: 
    create index idx_provider_license 
       on providers (license_number)
2025-07-24T19:24:37.831+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_provider 
       on refresh_tokens (provider_id)
Hibernate: 
    create index idx_refresh_token_provider 
       on refresh_tokens (provider_id)
2025-07-24T19:24:37.836+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_hash 
       on refresh_tokens (token_hash)
Hibernate: 
    create index idx_refresh_token_hash 
       on refresh_tokens (token_hash)
2025-07-24T19:24:37.840+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_expires 
       on refresh_tokens (expires_at)
Hibernate: 
    create index idx_refresh_token_expires 
       on refresh_tokens (expires_at)
2025-07-24T19:24:37.846+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_patient 
       on verification_tokens (patient_id)
Hibernate: 
    create index idx_verification_patient 
       on verification_tokens (patient_id)
2025-07-24T19:24:37.850+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_type 
       on verification_tokens (token_type)
Hibernate: 
    create index idx_verification_type 
       on verification_tokens (token_type)
2025-07-24T19:24:37.854+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_expires 
       on verification_tokens (expires_at)
Hibernate: 
    create index idx_verification_expires 
       on verification_tokens (expires_at)
2025-07-24T19:24:37.860+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_used 
       on verification_tokens (is_used)
Hibernate: 
    create index idx_verification_used 
       on verification_tokens (is_used)
2025-07-24T19:24:37.865+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_active 
       on verification_tokens (is_used, expires_at)
Hibernate: 
    create index idx_verification_active 
       on verification_tokens (is_used, expires_at)
2025-07-24T19:24:37.869+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       add constraint FKrauusosq6t9illwjtvtn4dxni 
       foreign key (provider_id) 
       references providers
Hibernate: 
    alter table if exists login_attempts 
       add constraint FKrauusosq6t9illwjtvtn4dxni 
       foreign key (provider_id) 
       references providers
2025-07-24T19:24:37.876+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       add constraint FKowk2molo32oxawbg409u3tfxv 
       foreign key (patient_id) 
       references patients
Hibernate: 
    alter table if exists patient_audit_logs 
       add constraint FKowk2molo32oxawbg409u3tfxv 
       foreign key (patient_id) 
       references patients
2025-07-24T19:24:37.881+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       add constraint FK7euc7bblyp6m2ath08be0kbro 
       foreign key (provider_id) 
       references providers
Hibernate: 
    alter table if exists refresh_tokens 
       add constraint FK7euc7bblyp6m2ath08be0kbro 
       foreign key (provider_id) 
       references providers
2025-07-24T19:24:37.885+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       add constraint FKg4clt67aftoaon2c5olnkhy0q 
       foreign key (patient_id) 
       references patients
Hibernate: 
    alter table if exists verification_tokens 
       add constraint FKg4clt67aftoaon2c5olnkhy0q 
       foreign key (patient_id) 
       references patients
2025-07-24T19:24:37.894+05:30  INFO 662669 --- [session-demo] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-24T19:24:38.147+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-24T19:24:39.575+05:30  WARN 662669 --- [session-demo] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-24T19:24:39.713+05:30  WARN 662669 --- [session-demo] [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0d50ebef-de1d-42ab-9aa7-451d2e221e60

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-24T19:24:39.717+05:30  INFO 662669 --- [session-demo] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-24T19:24:39.976+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-24T19:24:39.997+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-07-24T19:24:40.009+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : Started SessionDemoApplication in 5.154 seconds (process running for 5.373)
2025-07-24T19:24:40.016+05:30  INFO 662669 --- [session-demo] [   scheduling-1] c.e.s.service.SessionCleanupService      : Starting cleanup of expired refresh tokens
2025-07-24T19:24:40.053+05:30 DEBUG 662669 --- [session-demo] [   scheduling-1] org.hibernate.SQL                        : 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.device_info,
        rt1_0.expires_at,
        rt1_0.ip_address,
        rt1_0.is_revoked,
        rt1_0.last_used_at,
        rt1_0.provider_id,
        rt1_0.token_hash,
        rt1_0.user_agent 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
Hibernate: 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.device_info,
        rt1_0.expires_at,
        rt1_0.ip_address,
        rt1_0.is_revoked,
        rt1_0.last_used_at,
        rt1_0.provider_id,
        rt1_0.token_hash,
        rt1_0.user_agent 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
2025-07-24T19:24:40.078+05:30 DEBUG 662669 --- [session-demo] [   scheduling-1] org.hibernate.SQL                        : 
    delete 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
Hibernate: 
    delete 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
2025-07-24T19:24:40.080+05:30  INFO 662669 --- [session-demo] [   scheduling-1] c.e.s.service.SessionCleanupService      : Cleanup completed. Deleted 0 expired refresh tokens
2025-07-24T19:24:54.562+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-24T19:24:54.563+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-24T19:24:54.564+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-24T19:24:54.685+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.controller.PatientController       : Patient registration attempt from IP: 127.0.0.1
2025-07-24T19:24:54.696+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.email=? 
    fetch
        first ? rows only
2025-07-24T19:24:54.700+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.phone_number=? 
    fetch
        first ? rows only
Hibernate: 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.phone_number=? 
    fetch
        first ? rows only
2025-07-24T19:24:54.702+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.PatientServiceImpl         : Starting patient registration for email: lisa.rodriguez@mailhog.test
2025-07-24T19:24:54.703+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.email=? 
    fetch
        first ? rows only
2025-07-24T19:24:54.706+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.phone_number=? 
    fetch
        first ? rows only
Hibernate: 
    select
        p1_0.id 
    from
        patients p1_0 
    where
        p1_0.phone_number=? 
    fetch
        first ? rows only
2025-07-24T19:24:54.998+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        patients
        (address_city, address_country, address_state, address_street, address_zip, allergies_encrypted, appointment_reminders, email_notifications, marketing_emails, sms_notifications, consent_date, created_at, current_medications_encrypted, date_of_birth, email, email_verified, emergency_contact_email, emergency_contact_name, emergency_contact_phone, emergency_contact_relationship, failed_login_attempts, first_name, gender, insurance_effective_date, insurance_expiry_date, insurance_group_number, insurance_member_id_encrypted, insurance_policy_number_encrypted, insurance_provider, is_active, last_login, last_name, locked_until, login_count, medical_history_encrypted, password_changed_at, password_hash, phone_number, phone_verified, preferred_language, privacy_consent, terms_accepted, updated_at, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        patients
        (address_city, address_country, address_state, address_street, address_zip, allergies_encrypted, appointment_reminders, email_notifications, marketing_emails, sms_notifications, consent_date, created_at, current_medications_encrypted, date_of_birth, email, email_verified, emergency_contact_email, emergency_contact_name, emergency_contact_phone, emergency_contact_relationship, failed_login_attempts, first_name, gender, insurance_effective_date, insurance_expiry_date, insurance_group_number, insurance_member_id_encrypted, insurance_policy_number_encrypted, insurance_provider, is_active, last_login, last_name, locked_until, login_count, medical_history_encrypted, password_changed_at, password_hash, phone_number, phone_verified, preferred_language, privacy_consent, terms_accepted, updated_at, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.017+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.PatientServiceImpl         : Patient created with UUID: 83bdff7c-341e-491b-aff1-35c1186ea2d7
2025-07-24T19:24:55.018+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.026+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        verification_tokens
        (attempts, created_at, expires_at, ip_address, is_used, max_attempts, patient_id, token_hash, token_type, token_value_encrypted, used_at, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        verification_tokens
        (attempts, created_at, expires_at, ip_address, is_used, max_attempts, patient_id, token_hash, token_type, token_value_encrypted, used_at, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.114+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.session_demo.service.EmailService    : Patient verification email sent successfully to: lisa.rodriguez@mailhog.test
2025-07-24T19:24:55.116+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.118+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.PatientServiceImpl         : Email verification sent to: lisa.rodriguez@mailhog.test
2025-07-24T19:24:55.119+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        verification_tokens
        (attempts, created_at, expires_at, ip_address, is_used, max_attempts, patient_id, token_hash, token_type, token_value_encrypted, used_at, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        verification_tokens
        (attempts, created_at, expires_at, ip_address, is_used, max_attempts, patient_id, token_hash, token_type, token_value_encrypted, used_at, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.123+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : === MOCK SMS SERVICE ===
2025-07-24T19:24:55.123+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : TO: +1555999000
2025-07-24T19:24:55.123+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : MESSAGE: Your healthcare verification code is: 305148
2025-07-24T19:24:55.123+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : This code expires in 5 minutes.
2025-07-24T19:24:55.123+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : =======================
2025-07-24T19:24:55.223+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.MockSmsServiceImpl         : SMS verification code sent successfully to: +1555999000
2025-07-24T19:24:55.225+05:30 DEBUG 662669 --- [session-demo] [nio-8082-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        patient_audit_logs
        (action_details_encrypted, action_type, actor_id, actor_type, created_at, failure_reason, ip_address, patient_id, processing_time_ms, request_method, request_uri, response_status, sensitive_data_accessed, session_id, success, user_agent, uuid) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-24T19:24:55.229+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.service.PatientServiceImpl         : SMS verification sent to: +1555999000
2025-07-24T19:24:55.238+05:30  INFO 662669 --- [session-demo] [nio-8082-exec-1] c.e.s.controller.PatientController       : Patient registration successful for email: lisa.rodriguez@mailhog.test
2025-07-24T19:25:00.359+05:30  WARN 662669 --- [session-demo] [nio-8082-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-07-24T19:26:21.653+05:30  INFO 662669 --- [session-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-24T19:26:21.657+05:30  INFO 662669 --- [session-demo] [       Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-24T19:26:21.659+05:30  INFO 662669 --- [session-demo] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-24T19:26:21.773+05:30  INFO 662669 --- [session-demo] [       Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-24T19:26:21.774+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
Hibernate: 
    set client_min_messages = WARNING
2025-07-24T19:26:21.775+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
Hibernate: 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
2025-07-24T19:26:21.779+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
Hibernate: 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
2025-07-24T19:26:21.781+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
Hibernate: 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
2025-07-24T19:26:21.784+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
Hibernate: 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
2025-07-24T19:26:21.786+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists login_attempts cascade
Hibernate: 
    drop table if exists login_attempts cascade
2025-07-24T19:26:21.792+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists patient_audit_logs cascade
Hibernate: 
    drop table if exists patient_audit_logs cascade
2025-07-24T19:26:21.797+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists patients cascade
Hibernate: 
    drop table if exists patients cascade
2025-07-24T19:26:21.803+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists providers cascade
Hibernate: 
    drop table if exists providers cascade
2025-07-24T19:26:21.809+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists refresh_tokens cascade
Hibernate: 
    drop table if exists refresh_tokens cascade
2025-07-24T19:26:21.812+05:30 DEBUG 662669 --- [session-demo] [       Thread-5] org.hibernate.SQL                        : 
    drop table if exists verification_tokens cascade
Hibernate: 
    drop table if exists verification_tokens cascade
2025-07-24T19:26:21.819+05:30  INFO 662669 --- [session-demo] [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-24T19:26:21.825+05:30  INFO 662669 --- [session-demo] [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.3)

2025-07-24T19:26:21.891+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : Starting SessionDemoApplication using Java 17.0.13 with PID 662669 (/home/lnv-244/CodeBase/session/java-ai-suit-9/target/classes started by lnv-244 in /home/lnv-244/CodeBase/session/java-ai-suit-9)
2025-07-24T19:26:21.891+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : No active profile set, falling back to 1 default profile: "default"
2025-07-24T19:26:22.032+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-24T19:26:22.032+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-24T19:26:22.046+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 6 JPA repository interfaces.
2025-07-24T19:26:22.048+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-24T19:26:22.048+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.LoginAttemptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.PatientAuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.PatientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.ProviderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.session_demo.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-24T19:26:22.051+05:30  INFO 662669 --- [session-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-24T19:26:22.125+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-07-24T19:26:22.126+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-24T19:26:22.126+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-24T19:26:22.131+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-24T19:26:22.131+05:30  INFO 662669 --- [session-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 239 ms
2025-07-24T19:26:22.162+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-24T19:26:22.163+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-24T19:26:22.168+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-24T19:26:22.169+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-24T19:26:22.185+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@14081899
2025-07-24T19:26:22.185+05:30  INFO 662669 --- [session-demo] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-24T19:26:22.188+05:30  WARN 662669 --- [session-demo] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-24T19:26:22.189+05:30  INFO 662669 --- [session-demo] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.13
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-24T19:26:22.322+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-24T19:26:22.323+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
Hibernate: 
    set client_min_messages = WARNING
2025-07-24T19:26:22.324+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
Hibernate: 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
2025-07-24T19:26:22.324+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
Hibernate: 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
2025-07-24T19:26:22.324+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
Hibernate: 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
2025-07-24T19:26:22.325+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
Hibernate: 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
2025-07-24T19:26:22.325+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists login_attempts cascade
Hibernate: 
    drop table if exists login_attempts cascade
2025-07-24T19:26:22.325+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists patient_audit_logs cascade
Hibernate: 
    drop table if exists patient_audit_logs cascade
2025-07-24T19:26:22.325+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists patients cascade
Hibernate: 
    drop table if exists patients cascade
2025-07-24T19:26:22.326+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists providers cascade
Hibernate: 
    drop table if exists providers cascade
2025-07-24T19:26:22.326+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists refresh_tokens cascade
Hibernate: 
    drop table if exists refresh_tokens cascade
2025-07-24T19:26:22.326+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    drop table if exists verification_tokens cascade
Hibernate: 
    drop table if exists verification_tokens cascade
2025-07-24T19:26:22.326+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table login_attempts (
        created_at timestamp(6) not null,
        provider_id bigint,
        id UUID not null,
        attempt_type varchar(255) not null check (attempt_type in ('SUCCESS','FAILED','LOCKED','RATE_LIMITED','ACCOUNT_DISABLED','EMAIL_NOT_VERIFIED')),
        failure_reason varchar(255),
        identifier varchar(255) not null,
        ip_address varchar(255) not null,
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table login_attempts (
        created_at timestamp(6) not null,
        provider_id bigint,
        id UUID not null,
        attempt_type varchar(255) not null check (attempt_type in ('SUCCESS','FAILED','LOCKED','RATE_LIMITED','ACCOUNT_DISABLED','EMAIL_NOT_VERIFIED')),
        failure_reason varchar(255),
        identifier varchar(255) not null,
        ip_address varchar(255) not null,
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:26:22.339+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table patient_audit_logs (
        response_status integer,
        sensitive_data_accessed boolean not null,
        success boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint,
        processing_time_ms bigint,
        uuid UUID not null unique,
        action_type varchar(255) not null check (action_type in ('PATIENT_REGISTRATION','PATIENT_LOGIN','PATIENT_LOGOUT','PATIENT_LOGIN_FAILED','PASSWORD_CHANGE','PASSWORD_RESET_REQUEST','PASSWORD_RESET_COMPLETE','ACCOUNT_ACTIVATION','ACCOUNT_DEACTIVATION','ACCOUNT_LOCKOUT','EMAIL_VERIFICATION_SENT','EMAIL_VERIFICATION_COMPLETED','PHONE_VERIFICATION_SENT','PHONE_VERIFICATION_COMPLETED','VERIFICATION_TOKEN_EXPIRED','PATIENT_DATA_VIEW','PATIENT_DATA_UPDATE','PATIENT_DATA_EXPORT','PATIENT_DATA_DELETE','MEDICAL_HISTORY_VIEW','MEDICAL_HISTORY_UPDATE','INSURANCE_INFO_VIEW','INSURANCE_INFO_UPDATE','PRIVACY_CONSENT_GIVEN','PRIVACY_CONSENT_WITHDRAWN','TERMS_ACCEPTED','MARKETING_CONSENT_CHANGED','EMAIL_SENT','SMS_SENT','COMMUNICATION_PREFERENCES_UPDATED','SUSPICIOUS_ACTIVITY_DETECTED','RATE_LIMIT_EXCEEDED','UNAUTHORIZED_ACCESS_ATTEMPT','DATA_ENCRYPTION_PERFORMED','DATA_DECRYPTION_PERFORMED','SYSTEM_BACKUP','SYSTEM_RESTORE','DATABASE_MIGRATION','AUDIT_LOG_CLEANUP')),
        actor_id varchar(255),
        actor_type varchar(255),
        failure_reason varchar(255),
        ip_address varchar(255),
        request_method varchar(255),
        request_uri varchar(255),
        session_id varchar(255),
        user_agent TEXT,
        action_details_encrypted TEXT,
        primary key (id)
    )
Hibernate: 
    create table patient_audit_logs (
        response_status integer,
        sensitive_data_accessed boolean not null,
        success boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint,
        processing_time_ms bigint,
        uuid UUID not null unique,
        action_type varchar(255) not null check (action_type in ('PATIENT_REGISTRATION','PATIENT_LOGIN','PATIENT_LOGOUT','PATIENT_LOGIN_FAILED','PASSWORD_CHANGE','PASSWORD_RESET_REQUEST','PASSWORD_RESET_COMPLETE','ACCOUNT_ACTIVATION','ACCOUNT_DEACTIVATION','ACCOUNT_LOCKOUT','EMAIL_VERIFICATION_SENT','EMAIL_VERIFICATION_COMPLETED','PHONE_VERIFICATION_SENT','PHONE_VERIFICATION_COMPLETED','VERIFICATION_TOKEN_EXPIRED','PATIENT_DATA_VIEW','PATIENT_DATA_UPDATE','PATIENT_DATA_EXPORT','PATIENT_DATA_DELETE','MEDICAL_HISTORY_VIEW','MEDICAL_HISTORY_UPDATE','INSURANCE_INFO_VIEW','INSURANCE_INFO_UPDATE','PRIVACY_CONSENT_GIVEN','PRIVACY_CONSENT_WITHDRAWN','TERMS_ACCEPTED','MARKETING_CONSENT_CHANGED','EMAIL_SENT','SMS_SENT','COMMUNICATION_PREFERENCES_UPDATED','SUSPICIOUS_ACTIVITY_DETECTED','RATE_LIMIT_EXCEEDED','UNAUTHORIZED_ACCESS_ATTEMPT','DATA_ENCRYPTION_PERFORMED','DATA_DECRYPTION_PERFORMED','SYSTEM_BACKUP','SYSTEM_RESTORE','DATABASE_MIGRATION','AUDIT_LOG_CLEANUP')),
        actor_id varchar(255),
        actor_type varchar(255),
        failure_reason varchar(255),
        ip_address varchar(255),
        request_method varchar(255),
        request_uri varchar(255),
        session_id varchar(255),
        user_agent TEXT,
        action_details_encrypted TEXT,
        primary key (id)
    )
2025-07-24T19:26:22.351+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table patients (
        appointment_reminders boolean not null,
        date_of_birth date not null,
        email_notifications boolean not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        insurance_effective_date date,
        insurance_expiry_date date,
        is_active boolean not null,
        login_count integer not null,
        marketing_emails boolean not null,
        phone_verified boolean not null,
        privacy_consent boolean not null,
        sms_notifications boolean not null,
        terms_accepted boolean not null,
        consent_date timestamp(6),
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        preferred_language varchar(10),
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        address_city varchar(255),
        address_country varchar(255),
        address_state varchar(255),
        address_street varchar(255),
        address_zip varchar(255),
        email varchar(255) not null unique,
        emergency_contact_email varchar(255),
        emergency_contact_name varchar(255),
        emergency_contact_phone varchar(255),
        emergency_contact_relationship varchar(255),
        gender varchar(255) not null check (gender in ('MALE','FEMALE','OTHER','PREFER_NOT_TO_SAY')),
        insurance_group_number varchar(255),
        insurance_member_id_encrypted varchar(255),
        insurance_policy_number_encrypted varchar(255),
        insurance_provider varchar(255),
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        allergies_encrypted TEXT,
        current_medications_encrypted TEXT,
        medical_history_encrypted TEXT,
        primary key (id)
    )
Hibernate: 
    create table patients (
        appointment_reminders boolean not null,
        date_of_birth date not null,
        email_notifications boolean not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        insurance_effective_date date,
        insurance_expiry_date date,
        is_active boolean not null,
        login_count integer not null,
        marketing_emails boolean not null,
        phone_verified boolean not null,
        privacy_consent boolean not null,
        sms_notifications boolean not null,
        terms_accepted boolean not null,
        consent_date timestamp(6),
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        preferred_language varchar(10),
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        address_city varchar(255),
        address_country varchar(255),
        address_state varchar(255),
        address_street varchar(255),
        address_zip varchar(255),
        email varchar(255) not null unique,
        emergency_contact_email varchar(255),
        emergency_contact_name varchar(255),
        emergency_contact_phone varchar(255),
        emergency_contact_relationship varchar(255),
        gender varchar(255) not null check (gender in ('MALE','FEMALE','OTHER','PREFER_NOT_TO_SAY')),
        insurance_group_number varchar(255),
        insurance_member_id_encrypted varchar(255),
        insurance_policy_number_encrypted varchar(255),
        insurance_provider varchar(255),
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        allergies_encrypted TEXT,
        current_medications_encrypted TEXT,
        medical_history_encrypted TEXT,
        primary key (id)
    )
2025-07-24T19:26:22.370+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table providers (
        concurrent_sessions integer not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        is_active boolean not null,
        login_count integer not null,
        years_of_experience integer not null check ((years_of_experience<=50) and (years_of_experience>=0)),
        created_at timestamp(6) not null,
        email_verification_token_expiry timestamp(6),
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        clinic_city varchar(255),
        clinic_state varchar(255),
        clinic_street varchar(255),
        clinic_zip varchar(255),
        email varchar(255) not null unique,
        email_verification_token varchar(255),
        license_document_url varchar(255),
        license_number varchar(255) not null unique,
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        specialization varchar(255) not null check (specialization in ('ALLERGY_IMMUNOLOGY','ANESTHESIOLOGY','CARDIOLOGY','DERMATOLOGY','EMERGENCY_MEDICINE','FAMILY_MEDICINE','GASTROENTEROLOGY','GENERAL_SURGERY','HEMATOLOGY','INFECTIOUS_DISEASE','INTERNAL_MEDICINE','NEPHROLOGY','NEUROLOGY','NEUROSURGERY','OBSTETRICS_GYNECOLOGY','ONCOLOGY','OPHTHALMOLOGY','ORTHOPEDIC_SURGERY','OTOLARYNGOLOGY','PATHOLOGY','PEDIATRICS','PHYSICAL_MEDICINE','PLASTIC_SURGERY','PSYCHIATRY','PULMONOLOGY','RADIOLOGY','RHEUMATOLOGY','UROLOGY','NURSE_PRACTITIONER','PHYSICIAN_ASSISTANT','OTHER')),
        verification_status varchar(255) not null check (verification_status in ('PENDING','VERIFIED','REJECTED')),
        primary key (id)
    )
Hibernate: 
    create table providers (
        concurrent_sessions integer not null,
        email_verified boolean not null,
        failed_login_attempts integer not null,
        is_active boolean not null,
        login_count integer not null,
        years_of_experience integer not null check ((years_of_experience<=50) and (years_of_experience>=0)),
        created_at timestamp(6) not null,
        email_verification_token_expiry timestamp(6),
        id bigint generated by default as identity,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        updated_at timestamp(6) not null,
        uuid UUID not null unique,
        first_name varchar(50) not null,
        last_name varchar(50) not null,
        clinic_city varchar(255),
        clinic_state varchar(255),
        clinic_street varchar(255),
        clinic_zip varchar(255),
        email varchar(255) not null unique,
        email_verification_token varchar(255),
        license_document_url varchar(255),
        license_number varchar(255) not null unique,
        password_hash varchar(255) not null,
        phone_number varchar(255) not null unique,
        specialization varchar(255) not null check (specialization in ('ALLERGY_IMMUNOLOGY','ANESTHESIOLOGY','CARDIOLOGY','DERMATOLOGY','EMERGENCY_MEDICINE','FAMILY_MEDICINE','GASTROENTEROLOGY','GENERAL_SURGERY','HEMATOLOGY','INFECTIOUS_DISEASE','INTERNAL_MEDICINE','NEPHROLOGY','NEUROLOGY','NEUROSURGERY','OBSTETRICS_GYNECOLOGY','ONCOLOGY','OPHTHALMOLOGY','ORTHOPEDIC_SURGERY','OTOLARYNGOLOGY','PATHOLOGY','PEDIATRICS','PHYSICAL_MEDICINE','PLASTIC_SURGERY','PSYCHIATRY','PULMONOLOGY','RADIOLOGY','RHEUMATOLOGY','UROLOGY','NURSE_PRACTITIONER','PHYSICIAN_ASSISTANT','OTHER')),
        verification_status varchar(255) not null check (verification_status in ('PENDING','VERIFIED','REJECTED')),
        primary key (id)
    )
2025-07-24T19:26:22.397+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table refresh_tokens (
        is_revoked boolean not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        last_used_at timestamp(6) not null,
        provider_id bigint not null,
        id UUID not null,
        device_info varchar(255),
        ip_address varchar(255),
        token_hash varchar(255) not null unique,
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table refresh_tokens (
        is_revoked boolean not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        last_used_at timestamp(6) not null,
        provider_id bigint not null,
        id UUID not null,
        device_info varchar(255),
        ip_address varchar(255),
        token_hash varchar(255) not null unique,
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:26:22.410+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create table verification_tokens (
        attempts integer not null check (attempts>=0),
        is_used boolean not null,
        max_attempts integer not null check ((max_attempts>=1) and (max_attempts<=10)),
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint not null,
        used_at timestamp(6),
        uuid UUID not null unique,
        ip_address varchar(255),
        token_hash varchar(255) not null,
        token_type varchar(255) not null check (token_type in ('EMAIL_VERIFICATION','PHONE_VERIFICATION','PASSWORD_RESET','ACCOUNT_ACTIVATION')),
        token_value_encrypted varchar(255),
        user_agent varchar(255),
        primary key (id)
    )
Hibernate: 
    create table verification_tokens (
        attempts integer not null check (attempts>=0),
        is_used boolean not null,
        max_attempts integer not null check ((max_attempts>=1) and (max_attempts<=10)),
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        id bigint generated by default as identity,
        patient_id bigint not null,
        used_at timestamp(6),
        uuid UUID not null unique,
        ip_address varchar(255),
        token_hash varchar(255) not null,
        token_type varchar(255) not null check (token_type in ('EMAIL_VERIFICATION','PHONE_VERIFICATION','PASSWORD_RESET','ACCOUNT_ACTIVATION')),
        token_value_encrypted varchar(255),
        user_agent varchar(255),
        primary key (id)
    )
2025-07-24T19:26:22.443+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_provider 
       on login_attempts (provider_id)
Hibernate: 
    create index idx_login_attempt_provider 
       on login_attempts (provider_id)
2025-07-24T19:26:22.458+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_identifier 
       on login_attempts (identifier)
Hibernate: 
    create index idx_login_attempt_identifier 
       on login_attempts (identifier)
2025-07-24T19:26:22.473+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_ip 
       on login_attempts (ip_address)
Hibernate: 
    create index idx_login_attempt_ip 
       on login_attempts (ip_address)
2025-07-24T19:26:22.480+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_created 
       on login_attempts (created_at)
Hibernate: 
    create index idx_login_attempt_created 
       on login_attempts (created_at)
2025-07-24T19:26:22.486+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_login_attempt_type 
       on login_attempts (attempt_type)
Hibernate: 
    create index idx_login_attempt_type 
       on login_attempts (attempt_type)
2025-07-24T19:26:22.492+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_patient 
       on patient_audit_logs (patient_id)
Hibernate: 
    create index idx_audit_patient 
       on patient_audit_logs (patient_id)
2025-07-24T19:26:22.499+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_action 
       on patient_audit_logs (action_type)
Hibernate: 
    create index idx_audit_action 
       on patient_audit_logs (action_type)
2025-07-24T19:26:22.503+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_created 
       on patient_audit_logs (created_at)
Hibernate: 
    create index idx_audit_created 
       on patient_audit_logs (created_at)
2025-07-24T19:26:22.515+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_sensitive 
       on patient_audit_logs (sensitive_data_accessed)
Hibernate: 
    create index idx_audit_sensitive 
       on patient_audit_logs (sensitive_data_accessed)
2025-07-24T19:26:22.522+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_success 
       on patient_audit_logs (success)
Hibernate: 
    create index idx_audit_success 
       on patient_audit_logs (success)
2025-07-24T19:26:22.534+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_audit_ip 
       on patient_audit_logs (ip_address)
Hibernate: 
    create index idx_audit_ip 
       on patient_audit_logs (ip_address)
2025-07-24T19:26:22.554+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_email 
       on patients (email)
Hibernate: 
    create index idx_patient_email 
       on patients (email)
2025-07-24T19:26:22.561+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_phone 
       on patients (phone_number)
Hibernate: 
    create index idx_patient_phone 
       on patients (phone_number)
2025-07-24T19:26:22.566+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_active 
       on patients (is_active)
Hibernate: 
    create index idx_patient_active 
       on patients (is_active)
2025-07-24T19:26:22.572+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_verified 
       on patients (email_verified, phone_verified)
Hibernate: 
    create index idx_patient_verified 
       on patients (email_verified, phone_verified)
2025-07-24T19:26:22.580+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_created 
       on patients (created_at)
Hibernate: 
    create index idx_patient_created 
       on patients (created_at)
2025-07-24T19:26:22.584+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_patient_dob 
       on patients (date_of_birth)
Hibernate: 
    create index idx_patient_dob 
       on patients (date_of_birth)
2025-07-24T19:26:22.589+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_email 
       on providers (email)
Hibernate: 
    create index idx_provider_email 
       on providers (email)
2025-07-24T19:26:22.597+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_phone 
       on providers (phone_number)
Hibernate: 
    create index idx_provider_phone 
       on providers (phone_number)
2025-07-24T19:26:22.602+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_provider_license 
       on providers (license_number)
Hibernate: 
    create index idx_provider_license 
       on providers (license_number)
2025-07-24T19:26:22.608+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_provider 
       on refresh_tokens (provider_id)
Hibernate: 
    create index idx_refresh_token_provider 
       on refresh_tokens (provider_id)
2025-07-24T19:26:22.615+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_hash 
       on refresh_tokens (token_hash)
Hibernate: 
    create index idx_refresh_token_hash 
       on refresh_tokens (token_hash)
2025-07-24T19:26:22.630+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_refresh_token_expires 
       on refresh_tokens (expires_at)
Hibernate: 
    create index idx_refresh_token_expires 
       on refresh_tokens (expires_at)
2025-07-24T19:26:22.644+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_patient 
       on verification_tokens (patient_id)
Hibernate: 
    create index idx_verification_patient 
       on verification_tokens (patient_id)
2025-07-24T19:26:22.658+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_type 
       on verification_tokens (token_type)
Hibernate: 
    create index idx_verification_type 
       on verification_tokens (token_type)
2025-07-24T19:26:22.663+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_expires 
       on verification_tokens (expires_at)
Hibernate: 
    create index idx_verification_expires 
       on verification_tokens (expires_at)
2025-07-24T19:26:22.667+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_used 
       on verification_tokens (is_used)
Hibernate: 
    create index idx_verification_used 
       on verification_tokens (is_used)
2025-07-24T19:26:22.673+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    create index idx_verification_active 
       on verification_tokens (is_used, expires_at)
Hibernate: 
    create index idx_verification_active 
       on verification_tokens (is_used, expires_at)
2025-07-24T19:26:22.678+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       add constraint FKrauusosq6t9illwjtvtn4dxni 
       foreign key (provider_id) 
       references providers
Hibernate: 
    alter table if exists login_attempts 
       add constraint FKrauusosq6t9illwjtvtn4dxni 
       foreign key (provider_id) 
       references providers
2025-07-24T19:26:22.682+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       add constraint FKowk2molo32oxawbg409u3tfxv 
       foreign key (patient_id) 
       references patients
Hibernate: 
    alter table if exists patient_audit_logs 
       add constraint FKowk2molo32oxawbg409u3tfxv 
       foreign key (patient_id) 
       references patients
2025-07-24T19:26:22.687+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       add constraint FK7euc7bblyp6m2ath08be0kbro 
       foreign key (provider_id) 
       references providers
Hibernate: 
    alter table if exists refresh_tokens 
       add constraint FK7euc7bblyp6m2ath08be0kbro 
       foreign key (provider_id) 
       references providers
2025-07-24T19:26:22.691+05:30 DEBUG 662669 --- [session-demo] [  restartedMain] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       add constraint FKg4clt67aftoaon2c5olnkhy0q 
       foreign key (patient_id) 
       references patients
Hibernate: 
    alter table if exists verification_tokens 
       add constraint FKg4clt67aftoaon2c5olnkhy0q 
       foreign key (patient_id) 
       references patients
2025-07-24T19:26:22.696+05:30  INFO 662669 --- [session-demo] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-24T19:26:23.139+05:30  WARN 662669 --- [session-demo] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-24T19:26:23.180+05:30  WARN 662669 --- [session-demo] [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: be246c8b-4259-4ba2-b87d-c47e219e3fbf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-24T19:26:23.181+05:30  INFO 662669 --- [session-demo] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-24T19:26:23.249+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-24T19:26:23.254+05:30  INFO 662669 --- [session-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-07-24T19:26:23.258+05:30  INFO 662669 --- [session-demo] [  restartedMain] c.e.session_demo.SessionDemoApplication  : Started SessionDemoApplication in 1.381 seconds (process running for 108.622)
2025-07-24T19:26:23.259+05:30  INFO 662669 --- [session-demo] [   scheduling-1] c.e.s.service.SessionCleanupService      : Starting cleanup of expired refresh tokens
2025-07-24T19:26:23.260+05:30  INFO 662669 --- [session-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-24T19:26:23.261+05:30 DEBUG 662669 --- [session-demo] [   scheduling-1] org.hibernate.SQL                        : 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.device_info,
        rt1_0.expires_at,
        rt1_0.ip_address,
        rt1_0.is_revoked,
        rt1_0.last_used_at,
        rt1_0.provider_id,
        rt1_0.token_hash,
        rt1_0.user_agent 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
Hibernate: 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.device_info,
        rt1_0.expires_at,
        rt1_0.ip_address,
        rt1_0.is_revoked,
        rt1_0.last_used_at,
        rt1_0.provider_id,
        rt1_0.token_hash,
        rt1_0.user_agent 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
2025-07-24T19:26:23.263+05:30 DEBUG 662669 --- [session-demo] [   scheduling-1] org.hibernate.SQL                        : 
    delete 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
Hibernate: 
    delete 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.expires_at<?
2025-07-24T19:26:23.263+05:30  INFO 662669 --- [session-demo] [   scheduling-1] c.e.s.service.SessionCleanupService      : Cleanup completed. Deleted 0 expired refresh tokens
2025-07-24T19:26:31.217+05:30  INFO 662669 --- [session-demo] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-24T19:26:31.218+05:30  INFO 662669 --- [session-demo] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-24T19:26:31.324+05:30  INFO 662669 --- [session-demo] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-24T19:26:31.324+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
Hibernate: 
    set client_min_messages = WARNING
2025-07-24T19:26:31.325+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
Hibernate: 
    alter table if exists login_attempts 
       drop constraint if exists FKrauusosq6t9illwjtvtn4dxni
2025-07-24T19:26:31.329+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
Hibernate: 
    alter table if exists patient_audit_logs 
       drop constraint if exists FKowk2molo32oxawbg409u3tfxv
2025-07-24T19:26:31.331+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
Hibernate: 
    alter table if exists refresh_tokens 
       drop constraint if exists FK7euc7bblyp6m2ath08be0kbro
2025-07-24T19:26:31.332+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
Hibernate: 
    alter table if exists verification_tokens 
       drop constraint if exists FKg4clt67aftoaon2c5olnkhy0q
2025-07-24T19:26:31.334+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists login_attempts cascade
Hibernate: 
    drop table if exists login_attempts cascade
2025-07-24T19:26:31.340+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists patient_audit_logs cascade
Hibernate: 
    drop table if exists patient_audit_logs cascade
2025-07-24T19:26:31.345+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists patients cascade
Hibernate: 
    drop table if exists patients cascade
2025-07-24T19:26:31.349+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists providers cascade
Hibernate: 
    drop table if exists providers cascade
2025-07-24T19:26:31.355+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists refresh_tokens cascade
Hibernate: 
    drop table if exists refresh_tokens cascade
2025-07-24T19:26:31.359+05:30 DEBUG 662669 --- [session-demo] [ionShutdownHook] org.hibernate.SQL                        : 
    drop table if exists verification_tokens cascade
Hibernate: 
    drop table if exists verification_tokens cascade
2025-07-24T19:26:31.364+05:30  INFO 662669 --- [session-demo] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-24T19:26:31.370+05:30  INFO 662669 --- [session-demo] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
